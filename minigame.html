<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mystic Path Minigame</title>
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
  <style>
    body {
      background:black;
      color:white;
      font-family:"VT323",monospace;
      font-size:24px;
      display:flex;
      align-items:center;
      justify-content:center;
      height:100vh;
      margin:0;
      overflow:hidden;
    }
    #game {
      max-width:900px;
      padding:40px;
      text-align:center;
      position:relative;
      z-index:2;
    }
    #text {
      white-space:pre-wrap;
      min-height:180px;
    }
    #choices { margin-top:20px; }
    .choice {
      margin:12px;
      padding:10px 20px;
      border:1px solid white;
      display:inline-block;
      cursor:pointer;
      transition: all 0.2s ease-in-out;
    }
    .choice:hover {
      color:black;
      background:white;
      box-shadow:0 0 15px white;
    }
    .glow { animation: glow 2s infinite alternate; }
    @keyframes glow {
      from { text-shadow:0 0 4px white; }
      to   { text-shadow:0 0 20px white; }
    }
    /* Pixel stars */
    .pixel {
      position:absolute;
      width:3px;
      height:3px;
      background:white;
      opacity:0.6;
      z-index:1;
      border-radius:50%;
      animation: twinkle 3s infinite alternate;
    }
    @keyframes twinkle {
      from { opacity:0.2; transform:scale(1); }
      to   { opacity:1; transform:scale(1.5); }
    }
    /* Result styling */
    .symbol {
      font-size: 80px;
      margin: 20px 0;
    }
    .result-title {
      font-size: 28px;
      margin: 10px 0;
    }
    .result-desc {
      font-size: 22px;
      margin-top: 10px;
      line-height: 1.4;
    }

    /* Archetype-specific animations */
    @keyframes shimmer {0%{text-shadow:0 0 5px white;}50%{text-shadow:-5px 0 15px white,5px 0 25px gray;}100%{text-shadow:0 0 5px white;}}
    @keyframes spinChaos {from{transform:rotate(0deg) scale(1);text-shadow:0 0 10px white;}to{transform:rotate(360deg) scale(1.2);text-shadow:0 0 20px red;}}
    @keyframes heartbeat {0%,100%{transform:scale(1);text-shadow:0 0 10px white;}50%{transform:scale(1.2);text-shadow:0 0 25px white;}}
    @keyframes scrollFade {0%,100%{opacity:0.6;}50%{opacity:1;text-shadow:0 0 20px white;}}
    @keyframes shadowPulse {0%,100%{opacity:0.3;text-shadow:0 0 5px gray;}50%{opacity:1;text-shadow:0 0 20px white;}}
    @keyframes flameFlicker {0%{text-shadow:0 0 5px orange;}25%{text-shadow:0 0 20px red;}50%{text-shadow:0 0 15px yellow;}75%{text-shadow:0 0 25px orange;}100%{text-shadow:0 0 10px red;}}
    @keyframes orbGlow {0%,100%{text-shadow:0 0 10px violet,0 0 20px purple;}50%{text-shadow:0 0 25px pink,0 0 40px violet;}}
    @keyframes cosmicTwinkle {0%,100%{transform:scale(1);text-shadow:0 0 10px blue,0 0 20px white;}50%{transform:scale(1.2);text-shadow:0 0 25px cyan,0 0 50px purple;}}

    .stoic { animation: shimmer 2s infinite; }
    .trickster { animation: spinChaos 5s infinite linear; }
    .protector { animation: heartbeat 2s infinite; }
    .scholar { animation: scrollFade 4s infinite; }
    .shadow { animation: shadowPulse 3s infinite; }
    .hero { animation: flameFlicker 1.5s infinite; }
    .oracle { animation: orbGlow 3s infinite alternate; }
    .dreamer { animation: cosmicTwinkle 6s infinite alternate; }
  </style>
</head>
<body>
  <div id="game">
    <div id="text"></div>
    <div id="choices"></div>
  </div>
  <script>
  const text=document.getElementById("text");
  const choices=document.getElementById("choices");
  let busy=false,currentPath=[],currentLevel=0;

  const ARCHETYPES=[
    {key:"Stoic Swordsman",title:"‚öî The Stoic Swordsman",symbol:"‚öî",css:"stoic",desc:"Steel is a mirror of the soul. You sever illusions with clarity and solemn resolve."},
    {key:"Trickster Rogue",title:"üÉè The Trickster Rogue",symbol:"üÉè",css:"trickster",desc:"Rules are chains. You laugh as you slip them, turning fate into a jest."},
    {key:"Loyal Protector",title:"üõ° The Loyal Protector",symbol:"üõ°",css:"protector",desc:"Your heart is both flame and shield. You endure so others may stand."},
    {key:"Eternal Scholar",title:"üìú The Eternal Scholar",symbol:"üìú",css:"scholar",desc:"The halls of truth have no end. You wander them eternally, hungering for wisdom."},
    {key:"Shadow Wanderer",title:"üåë The Shadow Wanderer",symbol:"üåë",css:"shadow",desc:"You walk unseen, carrying silence and scars as companions."},
    {key:"Burning Hero",title:"üî• The Burning Hero",symbol:"üî•",css:"hero",desc:"Passion blazes in you. Even gods cannot snuff your fire."},
    {key:"Silent Oracle",title:"üîÆ The Silent Oracle",symbol:"üîÆ",css:"oracle",desc:"You perceive the whispers between moments. Your silence speaks louder than prophecy."},
    {key:"Cosmic Dreamer",title:"üåå The Cosmic Dreamer",symbol:"üåå",css:"dreamer",desc:"Worlds bloom from your thoughts. You shape infinity with your visions."}
  ];

  const QUESTIONS=[
    ["Four roads stretch before you ‚Äî which stirs your soul?","Strength","Wisdom","Loyalty","Dreams"],
    ["Steel or shadow, which do you trust more?","Blade","Hidden paths","Shared oath","Cosmic vision"],
    ["The night whispers ‚Äî do you seek?","Clarity","Mysteries","Companions","Infinite skies"],
    ["Before battle, what heart do you carry?","Resolve","Cunning","Sacrifice","Imagination"],
    ["The final step reveals your essence ‚Äî what guides you?","Discipline","Freedom","Devotion","Transcendence"]
  ];

  function typeText(str,cb){
    busy=true;text.innerHTML="";
    let i=0;
    function step(){
      if(i<str.length){text.innerHTML+=str[i++];setTimeout(step,30);}
      else{busy=false;if(cb)cb();}
    }
    step();
  }
  function clearChoices(){choices.innerHTML="";}

  function showChoices(opts){
    clearChoices();
    opts.forEach((o,i)=>{
      const div=document.createElement("div");
      div.className="choice glow";
      div.textContent=o;
      div.onclick=()=>{ if(!busy) handleChoice(i,o); };
      choices.appendChild(div);
    });
  }

  function handleChoice(i,label){
    if(currentLevel===0 && label.startsWith("No")){
      clearChoices();
      typeText("‚ö° The connection severs. The path remains closed.\n\n(Refresh to try again.)");
      return;
    }
    if(currentLevel===0 && label.startsWith("Yes")){
      currentPath.push(i);currentLevel=0;navigate();return;
    }
    if(label.startsWith("Restart")){startGame();return;}
    if(label.startsWith("End")){clearChoices();typeText("üåô The journey sleeps, until another soul awakens it.");return;}

    currentPath.push(i);currentLevel++;
    if(currentLevel>=QUESTIONS.length) finish();
    else navigate();
  }

  function navigate(){
    clearChoices();
    const q=QUESTIONS[currentLevel];
    typeText(q[0],()=>showChoices(q.slice(1)));
  }

  // Sequential reveal finish
  function finish(){
    const archetype=ARCHETYPES[Math.floor(Math.random()*ARCHETYPES.length)];
    clearChoices();
    text.innerHTML="";

    // Step 1: Symbol
    const symbolDiv=document.createElement("div");
    symbolDiv.className="symbol " + archetype.css;
    symbolDiv.textContent=archetype.symbol;
    text.appendChild(symbolDiv);

    // Step 2: Title after delay
    setTimeout(()=>{
      const titleDiv=document.createElement("div");
      titleDiv.className="result-title glow";
      titleDiv.textContent="‚ú® "+archetype.title+" ‚ú®";
      text.appendChild(titleDiv);

      // Step 3: Description after delay
      setTimeout(()=>{
        const descDiv=document.createElement("div");
        descDiv.className="result-desc";
        descDiv.textContent=archetype.desc;
        text.appendChild(descDiv);

        // Step 4: Choices after delay
        setTimeout(()=>{showChoices(["Restart the journey","End"]);},800);
      },800);
    },800);
  }

  function startGame(){
    currentPath=[];currentLevel=0;
    const intro="üì≤ A message flickers to life...\n\nA presence asks, with patience carved in centuries:\n\n'Do you dare to tread the path of fivefold questions?'";
    typeText(intro,()=>showChoices(["Yes ‚Äî I step forth.","No ‚Äî I turn away."]));
  }

  (function spawnPixels(){
    for(let i=0;i<150;i++){
      const p=document.createElement("div");
      p.className="pixel";
      p.style.left=Math.random()*100+"vw";
      p.style.top=Math.random()*100+"vh";
      p.style.animationDuration=(2+Math.random()*4)+"s";
      p.style.animationDelay=(Math.random()*5)+"s";
      document.body.appendChild(p);
    }
  })();

  startGame();
  </script>
</body>
</html>
